<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Enquiry Form</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{
  font-family: Arial, Helvetica, sans-serif;
  background:#f4f6f8;
  margin:0;
  padding:10px;
}
.container{
  max-width:900px;
  margin:auto;
  background:#fff;
  padding:20px;
  border-radius:6px;
  box-shadow:0 2px 6px rgba(0,0,0,0.1);
}
h1,h2{text-align:center;margin:10px 0}
label{font-weight:bold;display:block;margin-bottom:2px;}
input, select{width:100%;padding:8px;margin-bottom:8px;border:1px solid #ccc;border-radius:4px}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
fieldset{border:1px solid #ccc;margin-top:15px;padding:10px;border-radius:4px}
legend{font-weight:bold;padding:0 5px}

.subject-table{
  width:100%;
  border-collapse:collapse;
}
.subject-table td{
  border:1px solid #ccc;
  padding:6px 8px;
}
.subject-cell{text-align:left}
.check-cell{text-align:center;width:40px}

button{
  padding:10px 15px;
  margin-top:15px;
  cursor:pointer;
  background:#007bff;
  color:#fff;
  border:none;
  border-radius:4px;
  transition:0.2s;
}
button:hover{background:#0056b3}

footer{
  text-align:center;
  font-size:14px;
  margin-top:20px;
  color:#555;
}

@media(max-width:600px){
  .grid{grid-template-columns:1fr}
}
</style>
</head>

<body>
<div class="container">

<h1>Literacy Education</h1>
<h2>Enquiry Form</h2>

<form id="enquiryForm" autocomplete="off">

<div class="grid">
  <div>
    <label for="date">Date</label>
    <input type="date" id="date" name="date" required>
  </div>
  <div>
    <label for="studentName">Student Name</label>
    <input id="studentName" name="studentName" required>
  </div>
  <div>
    <label for="className">Class</label>
    <input id="className" name="className" required>
  </div>
</div>

<fieldset>
<legend>Subjects Required</legend>
<table class="subject-table">
<tr>
  <td class="subject-cell">All Subjects</td>
  <td class="check-cell"><input type="checkbox" id="all"></td>
  <td class="subject-cell">Computer Science</td>
  <td class="check-cell"><input type="checkbox" class="sub" value="Computer Science"></td>
</tr>
<tr>
  <td class="subject-cell">Physics</td>
  <td class="check-cell"><input type="checkbox" class="sub" value="Physics"></td>
  <td class="subject-cell">Chemistry</td>
  <td class="check-cell"><input type="checkbox" class="sub" value="Chemistry"></td>
</tr>
<tr>
  <td class="subject-cell">Mathematics</td>
  <td class="check-cell"><input type="checkbox" class="sub" value="Mathematics"></td>
  <td class="subject-cell">Biology</td>
  <td class="check-cell"><input type="checkbox" class="sub" value="Biology"></td>
</tr>
<tr>
  <td class="subject-cell">History & Civics</td>
  <td class="check-cell"><input type="checkbox" class="sub" value="History & Civics"></td>
  <td class="subject-cell">Geography</td>
  <td class="check-cell"><input type="checkbox" class="sub" value="Geography"></td>
</tr>
<tr>
  <td class="subject-cell">English</td>
  <td class="check-cell"><input type="checkbox" class="sub" value="English"></td>
  <td class="subject-cell">Hindi</td>
  <td class="check-cell"><input type="checkbox" class="sub" value="Hindi"></td>
</tr>
</table>
</fieldset>

<fieldset>
<legend>Parents Details</legend>
<div class="grid">
  <div><label for="father">Father Name</label><input id="father" name="father"></div>
  <div><label for="mother">Mother Name</label><input id="mother" name="mother"></div>
  <div><label for="mobile1">Mobile No. 1</label><input id="mobile1" name="mobile1" type="tel" pattern="[0-9]{10}" required></div>
  <div><label for="mobile2">Mobile No. 2</label><input id="mobile2" name="mobile2" type="tel" pattern="[0-9]{10}"></div>
  <div><label for="email">Email</label><input id="email" name="email" type="email"></div>
</div>
</fieldset>

<fieldset>
<legend>Address</legend>
<div class="grid">
  <input id="flat" name="flat" placeholder="Flat / House No">
  <input id="building" name="building" placeholder="Building Name">
  <input id="street" name="street" placeholder="Street Name">
  <input id="landmark" name="landmark" placeholder="Landmark">
  <input id="city" name="city" placeholder="City / District">
  <input id="state" name="state" placeholder="State">
  <input id="pin" name="pin" placeholder="Pin Code" pattern="[0-9]{6}">
</div>
</fieldset>

<button type="submit">Submit</button>

</form>

<footer>
<b>Literacy Education</b><br>
üìû +91 6355 823 220
</footer>

</div>

<script>
// ======= DEFAULT DATE =======
const dateInput = document.getElementById("date");
dateInput.valueAsDate = new Date();

// ======= SUBJECT CHECKBOX LOGIC =======
const allBox = document.getElementById("all");
const subs = document.querySelectorAll(".sub");

allBox.addEventListener("change", () => {
  subs.forEach(cb => {
    cb.checked = allBox.checked;
    cb.disabled = allBox.checked;
  });
});

// ======= FORM SUBMISSION =======
document.getElementById("enquiryForm").addEventListener("submit", async e => {
  e.preventDefault();

  const subjects = allBox.checked
    ? ["All Subjects"]
    : Array.from(document.querySelectorAll(".sub:checked")).map(cb => cb.value);

  const payload = {
    date: dateInput.value,
    studentName: document.getElementById("studentName").value,
    className: document.getElementById("className").value,
    subjects,
    fatherName: document.getElementById("father").value,
    motherName: document.getElementById("mother").value,
    mobile1: document.getElementById("mobile1").value,
    mobile2: document.getElementById("mobile2").value,
    email: document.getElementById("email").value,
    flat: document.getElementById("flat").value,
    building: document.getElementById("building").value,
    street: document.getElementById("street").value,
    landmark: document.getElementById("landmark").value,
    city: document.getElementById("city").value,
    state: document.getElementById("state").value,
    pin: document.getElementById("pin").value
  };

  try {
    await fetch(
      "https://script.google.com/macros/s/AKfycbxs2hJKzd1ITBTO78Vf5RJSnqIOtcJuxBsA6RFkgLMQ8Z1L3vPX-7Wpdsj1OpmCi4ZR/exec",
      {
        method: "POST",
        mode: "no-cors",
        body: JSON.stringify(payload)
      }
    );

    alert("‚úÖ Enquiry submitted successfully!");
    e.target.reset();
    subs.forEach(cb => cb.disabled = false);
  } catch(err) {
    console.error(err);
    alert("‚ùå Submission failed. Check network.");
  }
});
</script>

</body>
</html>

